<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="739px" preserveAspectRatio="none" style="width:2089px;height:739px;" version="1.1" viewBox="0 0 2089 739" width="2089px" zoomAndPan="magnify"><defs><filter height="300%" id="f1acfmpl42fceo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster View 层--><polygon fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" points="817,24,882,24,889,46.2969,2048,46.2969,2048,408,817,408,817,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="817" x2="889" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="821" y="38.9951">View 层</text><!--cluster UI 渲染器--><polygon fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" points="841,164,912,164,919,186.2969,1258,186.2969,1258,384,841,384,841,164" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="841" x2="919" y1="186.2969" y2="186.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="845" y="178.9951">UI 渲染器</text><!--cluster 消息展示模板--><polygon fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" points="1473,68,1569,68,1576,90.2969,2024,90.2969,2024,384,1473,384,1473,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1473" x2="1576" y1="90.2969" y2="90.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="1477" y="82.9951">消息展示模板</text><!--cluster ViewModel 层--><polygon fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" points="22,252,134,252,141,274.2969,793,274.2969,793,504,22,504,22,252" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="141" y1="274.2969" y2="274.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="26" y="266.9951">ViewModel 层</text><!--cluster 业务处理器--><polygon fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" points="237,296,318,296,325,318.2969,769,318.2969,769,480,237,480,237,296" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="237" x2="325" y1="318.2969" y2="318.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="241" y="310.9951">业务处理器</text><!--cluster 数据仓库--><path d="M325,538 C325,528 486.5,528 486.5,528 C486.5,528 648,528 648,538 L648,717 C648,727 486.5,727 486.5,727 C486.5,727 325,727 325,717 L325,538 " fill="#FFFFFF" filter="url(#f1acfmpl42fceo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M325,538 C325,548 486.5,548 486.5,548 C486.5,548 648,548 648,538 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="456.5" y="562.9951">数据仓库</text><!--entity RongConversationActivity--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1260.75" y="104"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1255.75" y="109"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1255.75" y="130.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="1270.75" y="126.9951">RongConversationActivity</text><!--entity ConversationFragment--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="1277.75" y="200"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1272.75" y="205"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1272.75" y="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1287.75" y="222.9951">ConversationFragment</text><!--entity RongExtension--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1317.75" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1312.75" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1312.75" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="1327.75" y="354.9951">RongExtension</text><!--entity IConversationUIRenderer--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="1050" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1045" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1045" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="172" x="1060" y="354.9951">IConversationUIRenderer</text><!--entity LocationUiRender--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1100" y="200"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1095" y="205"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1095" y="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1110" y="222.9951">LocationUiRender</text><!--entity CSConversationUIRenderer--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="857" y="200"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="852" y="205"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="852" y="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="867" y="222.9951">CSConversationUIRenderer</text><!--entity IMessageProvider--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1520" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1515" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1515" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1530" y="354.9951">IMessageProvider</text><!--entity BaseMessageItemProvider--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="1489.5" y="200"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1484.5" y="205"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1484.5" y="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="1499.5" y="222.9951">BaseMessageItemProvider</text><!--entity BaseNotificationMessageItemProvider--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="280" x="1728" y="200"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1723" y="205"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1723" y="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="260" x="1738" y="222.9951">BaseNotificationMessageItemProvider</text><!--entity TextMessageItemProvider--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="1490.75" y="104"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1485.75" y="109"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1485.75" y="130.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="1500.75" y="126.9951">TextMessageItemProvider</text><!--entity ImageMessageItemProvider--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="1792.75" y="104"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1787.75" y="109"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1787.75" y="130.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="1802.75" y="126.9951">ImageMessageItemProvider</text><!--entity ...--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="32" x="1725" y="104"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1720" y="109"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1720" y="130.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="1735" y="126.9951">...</text><!--entity MessageListViewModel--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="180" x="38" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="48" y="354.9951">MessageListViewModel</text><!--entity BaseBusinessProcessor--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="374.75" y="428"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="369.75" y="433"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="369.75" y="454.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="384.75" y="450.9951">BaseBusinessProcessor</text><!--entity PrivateBusinessProcessor--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="486" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="481" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="481" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="180" x="496" y="354.9951">PrivateBusinessProcessor</text><!--entity GroupBusinessProcessor--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="253.75" y="332"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="248.75" y="337"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="248.75" y="358.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="263.75" y="354.9951">GroupBusinessProcessor</text><!--entity ....--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="28" style="stroke: #A80036; stroke-width: 1.5;" width="32" x="721" y="336"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="716" y="341"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="716" y="354"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="722" x2="752" y1="346" y2="346"/><!--entity UiMessasge--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="417" y="579"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="412" y="584"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="412" y="605.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="427" y="601.9951">UiMessasge</text><!--entity IMCenter--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="341" y="675"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="336" y="680"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="336" y="701.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="351" y="697.9951">IMCenter</text><!--entity RongUserInfoManager--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="458" y="675"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="453" y="680"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="453" y="701.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="468" y="697.9951">RongUserInfoManager</text><!--entity RongExtensionViewModel--><rect fill="#FEFECE" filter="url(#f1acfmpl42fceo)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="1619.75" y="428"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1614.75" y="433"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1614.75" y="454.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="1629.75" y="450.9951">RongExtensionViewModel</text><!--link RongConversationActivity to ConversationFragment--><path d="M1360.59,153.387 C1361.9,168.785 1363.44,186.912 1364.54,199.868 " fill="none" id="RongConversationActivity-ConversationFragment" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1359.47,140.241,1355.9939,146.5589,1360.4888,152.1977,1363.965,145.8797,1359.47,140.241" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConversationFragment to RongExtension--><path d="M1369.26,249.281 C1372.02,274.882 1375.87,310.653 1378.13,331.666 " fill="none" id="ConversationFragment-RongExtension" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1367.86,236.263,1364.5258,242.657,1369.1455,248.1939,1372.4797,241.8,1367.86,236.263" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConversationFragment to IConversationUIRenderer--><path d="M1265.07,235.229 C1258.45,237.745 1252.03,240.648 1246,244 C1206.84,265.78 1173.79,308.036 1157.29,331.763 " fill="none" id="ConversationFragment-IConversationUIRenderer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1277.58,230.982,1270.6136,229.1195,1266.2149,234.8337,1273.1814,236.6962,1277.58,230.982" style="stroke: #A80036; stroke-width: 1.0;"/><!--link LocationUiRender to IConversationUIRenderer--><path d="M1167.68,236.263 C1164,255.397 1157.96,286.83 1153.18,311.652 " fill="none" id="LocationUiRender-IConversationUIRenderer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1159.98,313.347,1149.33,331.666,1146.24,310.704,1159.98,313.347" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CSConversationUIRenderer to IConversationUIRenderer--><path d="M985.567,236.263 C1016.06,257.69 1068.5,294.542 1105.1,320.259 " fill="none" id="CSConversationUIRenderer-IConversationUIRenderer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1109.29,314.646,1121.63,331.873,1101.24,326.101,1109.29,314.646" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConversationFragment to IMessageProvider--><path d="M1467.46,235.19 C1493.5,239.483 1514.66,243.167 1516,244 C1550.02,265.227 1573.13,308.105 1583.96,331.978 " fill="none" id="ConversationFragment-IMessageProvider" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1454.36,233.042,1459.635,237.9587,1466.2024,234.9806,1460.9274,230.0638,1454.36,233.042" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BaseMessageItemProvider to IMessageProvider--><path d="M1591,236.263 C1591,255.397 1591,286.83 1591,311.652 " fill="none" id="BaseMessageItemProvider-IMessageProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1598,311.666,1591,331.666,1584,311.666,1598,311.666" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BaseNotificationMessageItemProvider to IMessageProvider--><path d="M1831.5,236.129 C1784.06,258.394 1700.79,297.473 1645.76,323.3 " fill="none" id="BaseNotificationMessageItemProvider-IMessageProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1648.66,329.673,1627.58,331.833,1642.71,316.999,1648.66,329.673" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TextMessageItemProvider to BaseMessageItemProvider--><path d="M1590.18,140.241 C1590.3,151.239 1590.46,165.93 1590.6,179.514 " fill="none" id="TextMessageItemProvider-BaseMessageItemProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1597.6,179.795,1590.82,199.868,1583.61,179.944,1597.6,179.795" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ImageMessageItemProvider to BaseMessageItemProvider--><path d="M1792.72,138.841 C1759.23,144.474 1726.79,150.724 1711,156 C1685.46,164.536 1658.59,177.748 1636.77,189.697 " fill="none" id="ImageMessageItemProvider-BaseMessageItemProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1639.91,195.964,1619.06,199.722,1633.02,183.78,1639.91,195.964" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ... to BaseMessageItemProvider--><path d="M1724.95,133.06 C1703.76,146.34 1665.6,170.249 1635.42,189.163 " fill="none" id="...-BaseMessageItemProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1638.99,195.19,1618.32,199.878,1631.55,183.327,1638.99,195.19" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConversationFragment to RongExtensionViewModel--><path d="M1459.35,234.633 C1463.96,235.153 1468.53,235.614 1473,236 C1488.25,237.315 2013.26,233.098 2024,244 C2077.66,298.445 2075.43,359.445 2024,416 C2010.47,430.873 1906.56,438.293 1823.72,441.876 " fill="none" id="ConversationFragment-RongExtensionViewModel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1818.3,442.107,1827.4631,445.7176,1823.2954,441.8927,1827.1203,437.725,1818.3,442.107" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1454.34,234.046,1462.8095,239.0727,1459.3056,234.6317,1463.7466,231.1278,1454.34,234.046" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RongExtension to RongExtensionViewModel--><path d="M1402.22,371.323 C1420,386.328 1446.3,405.838 1473,416 C1498.55,425.725 1559.41,432.944 1614.19,437.746 " fill="none" id="RongExtension-RongExtensionViewModel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1619.47,438.204,1610.846,433.4473,1614.4884,437.7754,1610.1603,441.4178,1619.47,438.204" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1398.34,368.002,1402.5718,376.8954,1402.1369,371.2553,1407.777,370.8203,1398.34,368.002" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConversationFragment to MessageListViewModel--><path d="M1272.73,234.564 C1267.76,235.118 1262.82,235.604 1258,236 C1229.73,238.323 263.262,233.289 237,244 C195.372,260.979 160.697,302.166 142.278,327.617 " fill="none" id="ConversationFragment-MessageListViewModel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="139.246,331.869,147.7278,326.863,142.1487,327.7978,141.2139,322.2187,139.246,331.869" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1277.72,233.988,1268.3218,231.0428,1272.7528,234.5594,1269.2361,238.9904,1277.72,233.988" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageListViewModel to BaseBusinessProcessor--><path d="M154.529,371.11 C175.697,386.058 206.722,405.594 237,416 C279.144,430.484 327.81,437.879 369.652,441.601 " fill="none" id="MessageListViewModel-BaseBusinessProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="374.72,442.037,366.0959,437.2805,369.7384,441.6085,365.4103,445.2511,374.72,442.037" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="150.43,368.186,155.434,376.6689,154.5005,371.0896,160.0798,370.1561,150.43,368.186" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PrivateBusinessProcessor to BaseBusinessProcessor--><path d="M564.812,368.023 C548.514,381.117 525.584,399.539 506.242,415.079 " fill="none" id="PrivateBusinessProcessor-BaseBusinessProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="510.401,420.717,490.426,427.786,501.633,409.803,510.401,420.717" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GroupBusinessProcessor to BaseBusinessProcessor--><path d="M373.188,368.023 C389.486,381.117 412.416,399.539 431.758,415.079 " fill="none" id="GroupBusinessProcessor-BaseBusinessProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="436.367,409.803,447.574,427.786,427.599,420.717,436.367,409.803" style="stroke: #A80036; stroke-width: 1.0;"/><!--link .... to BaseBusinessProcessor--><path d="M734.018,364.171 C729.841,379.339 720.689,403.74 703,416 C683.299,429.655 632.65,436.886 583.493,440.712 " fill="none" id="....-BaseBusinessProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="583.781,447.709,563.345,442.108,582.813,433.742,583.781,447.709" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BaseBusinessProcessor to UiMessasge--><path d="M469,469.401 C469,497.536 469,545.522 469,573.639 " fill="none" id="BaseBusinessProcessor-UiMessasge" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="469,578.648,473,569.648,469,573.648,465,569.648,469,578.648" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="469,464.092,465,473.092,469,469.092,473,473.092,469,464.092" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UiMessasge to IMCenter--><path d="M449.617,618.943 C435.252,634.463 415.758,655.5256 401.392,671.048 " fill="none" id="UiMessasge-IMCenter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="397.856,674.8683,406.9047,670.9796,401.252,671.1986,401.0331,665.546,397.856,674.8683" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="453.043,615.241,443.9947,619.1304,449.6473,618.911,449.8667,624.5636,453.043,615.241" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UiMessasge to RongUserInfoManager--><path d="M486.277,619.369 C498.694,634.726 515.363,655.3442 527.77,670.6889 " fill="none" id="UiMessasge-RongUserInfoManager" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="531.149,674.8683,528.6014,665.3546,528.0055,670.98,522.3801,670.3842,531.149,674.8683" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="482.94,615.241,485.4864,624.755,486.0829,619.1297,491.7083,619.7263,482.94,615.241" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
package "View 层" {
[RongConversationActivity] *- - [ConversationFragment]
[ConversationFragment] *- - [RongExtension]
package "UI 渲染器" {
[ConversationFragment] *- - [IConversationUIRenderer]
[LocationUiRender] ..|> [IConversationUIRenderer]
[CSConversationUIRenderer] ..|> [IConversationUIRenderer]
}

package "消息展示模板" {
[ConversationFragment] *- - [IMessageProvider]
 [BaseMessageItemProvider] ..|> [IMessageProvider]
 [BaseNotificationMessageItemProvider] ..|> [IMessageProvider]
 [TextMessageItemProvider] ..|> [BaseMessageItemProvider]
 [ImageMessageItemProvider] ..|> [BaseMessageItemProvider]
 [...] ..|> [BaseMessageItemProvider]
}
}


[ConversationFragment] <- -> [RongExtensionViewModel]
[RongExtension] <- -> [RongExtensionViewModel]

package "ViewModel 层" {
[ConversationFragment] <- -> [MessageListViewModel]
package "业务处理器" {
[MessageListViewModel] <- -> [BaseBusinessProcessor]
[PrivateBusinessProcessor] - -|> [BaseBusinessProcessor]
[GroupBusinessProcessor] - -|> [BaseBusinessProcessor]
[....] - -|> [BaseBusinessProcessor]
}
}

database "数据仓库"{
[BaseBusinessProcessor] <- -> [UiMessasge]
[UiMessasge] <- -> [IMCenter]
[UiMessasge] <- -> [RongUserInfoManager]
}
@enduml

PlantUML version 1.2019.06(Fri May 24 17:10:25 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Linux
OS Version: 3.13.0-48-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>